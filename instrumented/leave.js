function cov_2k6493dr6q(){var path="C:\\Users\\kenne\\Downloads\\DEVOPS\\DevOps-Part2\\DevOps-Project\\public\\leave.js";var hash="8eb783a6e43a53699d24656fc94dfdeef57aae6b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\kenne\\Downloads\\DEVOPS\\DevOps-Part2\\DevOps-Project\\public\\leave.js",statementMap:{"0":{start:{line:3,column:21},end:{line:3,column:51}},"1":{start:{line:4,column:17},end:{line:4,column:38}},"2":{start:{line:6,column:26},end:{line:6,column:60}},"3":{start:{line:7,column:4},end:{line:7,column:73}},"4":{start:{line:10,column:4},end:{line:15,column:7}},"5":{start:{line:11,column:23},end:{line:11,column:55}},"6":{start:{line:12,column:8},end:{line:12,column:35}},"7":{start:{line:13,column:8},end:{line:13,column:63}},"8":{start:{line:14,column:8},end:{line:14,column:42}},"9":{start:{line:18,column:4},end:{line:18,column:39}},"10":{start:{line:19,column:4},end:{line:19,column:44}},"11":{start:{line:24,column:20},end:{line:24,column:60}},"12":{start:{line:25,column:28},end:{line:25,column:64}},"13":{start:{line:26,column:4},end:{line:26,column:77}},"14":{start:{line:29,column:29},end:{line:31,column:56}},"15":{start:{line:30,column:30},end:{line:30,column:67}},"16":{start:{line:31,column:27},end:{line:31,column:55}},"17":{start:{line:34,column:4},end:{line:41,column:11}},"18":{start:{line:35,column:27},end:{line:35,column:71}},"19":{start:{line:37,column:27},end:{line:37,column:59}},"20":{start:{line:38,column:12},end:{line:38,column:45}},"21":{start:{line:39,column:12},end:{line:39,column:74}},"22":{start:{line:40,column:12},end:{line:40,column:48}},"23":{start:{line:46,column:22},end:{line:46,column:64}},"24":{start:{line:47,column:24},end:{line:47,column:62}},"25":{start:{line:48,column:4},end:{line:48,column:31}},"26":{start:{line:50,column:20},end:{line:50,column:78}},"27":{start:{line:50,column:51},end:{line:50,column:77}},"28":{start:{line:51,column:4},end:{line:57,column:5}},"29":{start:{line:52,column:8},end:{line:56,column:10}},"30":{start:{line:61,column:17},end:{line:61,column:53}},"31":{start:{line:62,column:21},end:{line:67,column:5}},"32":{start:{line:69,column:21},end:{line:73,column:6}},"33":{start:{line:74,column:19},end:{line:74,column:40}},"34":{start:{line:75,column:4},end:{line:75,column:26}},"35":{start:{line:76,column:4},end:{line:76,column:29}},"36":{start:{line:80,column:21},end:{line:80,column:65}},"37":{start:{line:81,column:25},end:{line:81,column:46}},"38":{start:{line:82,column:22},end:{line:82,column:66}},"39":{start:{line:83,column:4},end:{line:83,column:29}},"40":{start:{line:85,column:4},end:{line:98,column:7}},"41":{start:{line:86,column:23},end:{line:86,column:52}},"42":{start:{line:87,column:8},end:{line:96,column:108}},"43":{start:{line:97,column:8},end:{line:97,column:38}},"44":{start:{line:102,column:21},end:{line:106,column:6}},"45":{start:{line:107,column:19},end:{line:107,column:40}},"46":{start:{line:108,column:4},end:{line:108,column:26}},"47":{start:{line:109,column:4},end:{line:109,column:29}},"48":{start:{line:113,column:0},end:{line:113,column:25}},"49":{start:{line:114,column:0},end:{line:116,column:3}},"50":{start:{line:115,column:4},end:{line:115,column:28}}},fnMap:{"0":{name:"populateClassDropdown",decl:{start:{line:2,column:15},end:{line:2,column:36}},loc:{start:{line:2,column:39},end:{line:20,column:1}},line:2},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:25},end:{line:10,column:26}},loc:{start:{line:10,column:32},end:{line:15,column:5}},line:10},"2":{name:"updateStudentDropdown",decl:{start:{line:23,column:9},end:{line:23,column:30}},loc:{start:{line:23,column:33},end:{line:42,column:1}},line:23},"3":{name:"(anonymous_3)",decl:{start:{line:30,column:16},end:{line:30,column:17}},loc:{start:{line:30,column:30},end:{line:30,column:67}},line:30},"4":{name:"(anonymous_4)",decl:{start:{line:31,column:13},end:{line:31,column:14}},loc:{start:{line:31,column:27},end:{line:31,column:55}},line:31},"5":{name:"(anonymous_5)",decl:{start:{line:35,column:16},end:{line:35,column:17}},loc:{start:{line:35,column:27},end:{line:35,column:71}},line:35},"6":{name:"(anonymous_6)",decl:{start:{line:36,column:17},end:{line:36,column:18}},loc:{start:{line:36,column:28},end:{line:41,column:9}},line:36},"7":{name:"displayStudentInfo",decl:{start:{line:45,column:9},end:{line:45,column:27}},loc:{start:{line:45,column:30},end:{line:58,column:1}},line:45},"8":{name:"(anonymous_8)",decl:{start:{line:50,column:44},end:{line:50,column:45}},loc:{start:{line:50,column:51},end:{line:50,column:77}},line:50},"9":{name:"submitLeaveApplication",decl:{start:{line:60,column:15},end:{line:60,column:37}},loc:{start:{line:60,column:40},end:{line:77,column:1}},line:60},"10":{name:"fetchLeaveApplications",decl:{start:{line:79,column:15},end:{line:79,column:37}},loc:{start:{line:79,column:40},end:{line:99,column:1}},line:79},"11":{name:"(anonymous_11)",decl:{start:{line:85,column:25},end:{line:85,column:26}},loc:{start:{line:85,column:32},end:{line:98,column:5}},line:85},"12":{name:"updateApplicationStatus",decl:{start:{line:101,column:15},end:{line:101,column:38}},loc:{start:{line:101,column:62},end:{line:110,column:1}},line:101},"13":{name:"(anonymous_13)",decl:{start:{line:114,column:46},end:{line:114,column:47}},loc:{start:{line:114,column:52},end:{line:116,column:1}},line:114}},branchMap:{"0":{loc:{start:{line:51,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:51,column:4},end:{line:57,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:51}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8eb783a6e43a53699d24656fc94dfdeef57aae6b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2k6493dr6q=function(){return actualCoverage;};}return actualCoverage;}cov_2k6493dr6q();// Fetch and populate classID dropdown
async function populateClassDropdown(){cov_2k6493dr6q().f[0]++;const response=(cov_2k6493dr6q().s[0]++,await fetch('/leave/api/data'));// Fetch data from the backend
const data=(cov_2k6493dr6q().s[1]++,await response.json());const classDropdown=(cov_2k6493dr6q().s[2]++,document.getElementById('classID'));cov_2k6493dr6q().s[3]++;classDropdown.innerHTML='<option value="">Select a Class</option>';// Reset dropdown
// Populate class dropdown with available classes
cov_2k6493dr6q().s[4]++;data.classes.forEach(cls=>{cov_2k6493dr6q().f[1]++;const option=(cov_2k6493dr6q().s[5]++,document.createElement('option'));cov_2k6493dr6q().s[6]++;option.value=cls.classID;cov_2k6493dr6q().s[7]++;option.textContent=`${cls.classID} - ${cls.subject}`;cov_2k6493dr6q().s[8]++;classDropdown.appendChild(option);});// Store student and enrollment data globally for use in other functions
cov_2k6493dr6q().s[9]++;window.studentData=data.students;cov_2k6493dr6q().s[10]++;window.enrollmentData=data.enrollment;}// Update studentID dropdown based on selected classID
function updateStudentDropdown(){cov_2k6493dr6q().f[2]++;const classID=(cov_2k6493dr6q().s[11]++,document.getElementById('classID').value);const studentDropdown=(cov_2k6493dr6q().s[12]++,document.getElementById('studentID'));cov_2k6493dr6q().s[13]++;studentDropdown.innerHTML='<option value="">Select a Student</option>';// Reset dropdown
// Filter students based on enrollment data
const enrolledStudents=(cov_2k6493dr6q().s[14]++,window.enrollmentData.filter(enrollment=>{cov_2k6493dr6q().f[3]++;cov_2k6493dr6q().s[15]++;return enrollment.enrolledClassID==classID;}).map(enrollment=>{cov_2k6493dr6q().f[4]++;cov_2k6493dr6q().s[16]++;return enrollment.enrolledStudentID;}));// Populate student dropdown with students enrolled in the selected class
cov_2k6493dr6q().s[17]++;window.studentData.filter(student=>{cov_2k6493dr6q().f[5]++;cov_2k6493dr6q().s[18]++;return enrolledStudents.includes(student.studentID);}).forEach(student=>{cov_2k6493dr6q().f[6]++;const option=(cov_2k6493dr6q().s[19]++,document.createElement('option'));cov_2k6493dr6q().s[20]++;option.value=student.studentID;cov_2k6493dr6q().s[21]++;option.textContent=`${student.studentID} - ${student.name}`;cov_2k6493dr6q().s[22]++;studentDropdown.appendChild(option);});}// Display student information based on selected studentID
function displayStudentInfo(){cov_2k6493dr6q().f[7]++;const studentID=(cov_2k6493dr6q().s[23]++,document.getElementById('studentID').value);const studentInfo=(cov_2k6493dr6q().s[24]++,document.getElementById('studentInfo'));cov_2k6493dr6q().s[25]++;studentInfo.innerHTML='';// Reset info
const student=(cov_2k6493dr6q().s[26]++,window.studentData.find(stu=>{cov_2k6493dr6q().f[8]++;cov_2k6493dr6q().s[27]++;return stu.studentID==studentID;}));cov_2k6493dr6q().s[28]++;if(student){cov_2k6493dr6q().b[0][0]++;cov_2k6493dr6q().s[29]++;studentInfo.innerHTML=`
            <p>Name: ${student.name}</p>
            <p>Student ID: ${student.studentID}</p>
            <!-- Add more details if available in the data -->
        `;}else{cov_2k6493dr6q().b[0][1]++;}}async function submitLeaveApplication(){cov_2k6493dr6q().f[9]++;const form=(cov_2k6493dr6q().s[30]++,document.getElementById('leaveForm'));const formData=(cov_2k6493dr6q().s[31]++,{classID:form.classID.value,studentID:form.studentID.value,leaveDate:form.leaveDate.value,reason:form.reason.value});const response=(cov_2k6493dr6q().s[32]++,await fetch('/leave/apply-leave',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)}));const result=(cov_2k6493dr6q().s[33]++,await response.json());cov_2k6493dr6q().s[34]++;alert(result.message);cov_2k6493dr6q().s[35]++;fetchLeaveApplications();}async function fetchLeaveApplications(){cov_2k6493dr6q().f[10]++;const response=(cov_2k6493dr6q().s[36]++,await fetch('/leave/get-leave-applications'));const applications=(cov_2k6493dr6q().s[37]++,await response.json());const container=(cov_2k6493dr6q().s[38]++,document.getElementById('leaveApplications'));cov_2k6493dr6q().s[39]++;container.innerHTML='';cov_2k6493dr6q().s[40]++;applications.forEach(app=>{cov_2k6493dr6q().f[11]++;const appDiv=(cov_2k6493dr6q().s[41]++,document.createElement('div'));cov_2k6493dr6q().s[42]++;appDiv.innerHTML=`
            <p>Application ID: ${app.applicationID}</p>
            <p>Student ID: ${app.studentID}</p>
            <p>Class ID: ${app.classID}</p>
            <p>Leave Date: ${app.leaveDate}</p>
            <p>Reason: ${app.reason}</p>
            <p>Status: ${app.status}</p>
            <button onclick="updateApplicationStatus(${app.applicationID}, 'Approved')">Approve</button>
            <button onclick="updateApplicationStatus(${app.applicationID}, 'Disapproved')">Disapprove</button>
            <button onclick = "updateApplicationStatus(${app.applicationID}, 'Pending')" > Pending</button>`;cov_2k6493dr6q().s[43]++;container.appendChild(appDiv);});}async function updateApplicationStatus(applicationID,status){cov_2k6493dr6q().f[12]++;const response=(cov_2k6493dr6q().s[44]++,await fetch('/leave/update-application-status',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({applicationID,status})}));const result=(cov_2k6493dr6q().s[45]++,await response.json());cov_2k6493dr6q().s[46]++;alert(result.message);cov_2k6493dr6q().s[47]++;fetchLeaveApplications();}// Fetch the applications when the page loads
cov_2k6493dr6q().s[48]++;fetchLeaveApplications();cov_2k6493dr6q().s[49]++;document.addEventListener('DOMContentLoaded',()=>{cov_2k6493dr6q().f[13]++;cov_2k6493dr6q().s[50]++;populateClassDropdown();});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMms2NDkzZHI2cSIsImFjdHVhbENvdmVyYWdlIiwicG9wdWxhdGVDbGFzc0Ryb3Bkb3duIiwiZiIsInJlc3BvbnNlIiwicyIsImZldGNoIiwiZGF0YSIsImpzb24iLCJjbGFzc0Ryb3Bkb3duIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImNsYXNzZXMiLCJmb3JFYWNoIiwiY2xzIiwib3B0aW9uIiwiY3JlYXRlRWxlbWVudCIsInZhbHVlIiwiY2xhc3NJRCIsInRleHRDb250ZW50Iiwic3ViamVjdCIsImFwcGVuZENoaWxkIiwid2luZG93Iiwic3R1ZGVudERhdGEiLCJzdHVkZW50cyIsImVucm9sbG1lbnREYXRhIiwiZW5yb2xsbWVudCIsInVwZGF0ZVN0dWRlbnREcm9wZG93biIsInN0dWRlbnREcm9wZG93biIsImVucm9sbGVkU3R1ZGVudHMiLCJmaWx0ZXIiLCJlbnJvbGxlZENsYXNzSUQiLCJtYXAiLCJlbnJvbGxlZFN0dWRlbnRJRCIsInN0dWRlbnQiLCJpbmNsdWRlcyIsInN0dWRlbnRJRCIsIm5hbWUiLCJkaXNwbGF5U3R1ZGVudEluZm8iLCJzdHVkZW50SW5mbyIsImZpbmQiLCJzdHUiLCJiIiwic3VibWl0TGVhdmVBcHBsaWNhdGlvbiIsImZvcm0iLCJmb3JtRGF0YSIsImxlYXZlRGF0ZSIsInJlYXNvbiIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdCIsImFsZXJ0IiwibWVzc2FnZSIsImZldGNoTGVhdmVBcHBsaWNhdGlvbnMiLCJhcHBsaWNhdGlvbnMiLCJjb250YWluZXIiLCJhcHAiLCJhcHBEaXYiLCJhcHBsaWNhdGlvbklEIiwic3RhdHVzIiwidXBkYXRlQXBwbGljYXRpb25TdGF0dXMiLCJhZGRFdmVudExpc3RlbmVyIl0sInNvdXJjZXMiOlsibGVhdmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmV0Y2ggYW5kIHBvcHVsYXRlIGNsYXNzSUQgZHJvcGRvd25cclxuYXN5bmMgZnVuY3Rpb24gcG9wdWxhdGVDbGFzc0Ryb3Bkb3duKCkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2xlYXZlL2FwaS9kYXRhJyk7IC8vIEZldGNoIGRhdGEgZnJvbSB0aGUgYmFja2VuZFxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICBjb25zdCBjbGFzc0Ryb3Bkb3duID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsYXNzSUQnKTtcclxuICAgIGNsYXNzRHJvcGRvd24uaW5uZXJIVE1MID0gJzxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgYSBDbGFzczwvb3B0aW9uPic7IC8vIFJlc2V0IGRyb3Bkb3duXHJcblxyXG4gICAgLy8gUG9wdWxhdGUgY2xhc3MgZHJvcGRvd24gd2l0aCBhdmFpbGFibGUgY2xhc3Nlc1xyXG4gICAgZGF0YS5jbGFzc2VzLmZvckVhY2goY2xzID0+IHtcclxuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBvcHRpb24udmFsdWUgPSBjbHMuY2xhc3NJRDtcclxuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBgJHtjbHMuY2xhc3NJRH0gLSAke2Nscy5zdWJqZWN0fWA7XHJcbiAgICAgICAgY2xhc3NEcm9wZG93bi5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU3RvcmUgc3R1ZGVudCBhbmQgZW5yb2xsbWVudCBkYXRhIGdsb2JhbGx5IGZvciB1c2UgaW4gb3RoZXIgZnVuY3Rpb25zXHJcbiAgICB3aW5kb3cuc3R1ZGVudERhdGEgPSBkYXRhLnN0dWRlbnRzO1xyXG4gICAgd2luZG93LmVucm9sbG1lbnREYXRhID0gZGF0YS5lbnJvbGxtZW50O1xyXG59XHJcblxyXG4vLyBVcGRhdGUgc3R1ZGVudElEIGRyb3Bkb3duIGJhc2VkIG9uIHNlbGVjdGVkIGNsYXNzSURcclxuZnVuY3Rpb24gdXBkYXRlU3R1ZGVudERyb3Bkb3duKCkge1xyXG4gICAgY29uc3QgY2xhc3NJRCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGFzc0lEJykudmFsdWU7XHJcbiAgICBjb25zdCBzdHVkZW50RHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3R1ZGVudElEJyk7XHJcbiAgICBzdHVkZW50RHJvcGRvd24uaW5uZXJIVE1MID0gJzxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgYSBTdHVkZW50PC9vcHRpb24+JzsgLy8gUmVzZXQgZHJvcGRvd25cclxuXHJcbiAgICAvLyBGaWx0ZXIgc3R1ZGVudHMgYmFzZWQgb24gZW5yb2xsbWVudCBkYXRhXHJcbiAgICBjb25zdCBlbnJvbGxlZFN0dWRlbnRzID0gd2luZG93LmVucm9sbG1lbnREYXRhXHJcbiAgICAgICAgLmZpbHRlcihlbnJvbGxtZW50ID0+IGVucm9sbG1lbnQuZW5yb2xsZWRDbGFzc0lEID09IGNsYXNzSUQpXHJcbiAgICAgICAgLm1hcChlbnJvbGxtZW50ID0+IGVucm9sbG1lbnQuZW5yb2xsZWRTdHVkZW50SUQpO1xyXG5cclxuICAgIC8vIFBvcHVsYXRlIHN0dWRlbnQgZHJvcGRvd24gd2l0aCBzdHVkZW50cyBlbnJvbGxlZCBpbiB0aGUgc2VsZWN0ZWQgY2xhc3NcclxuICAgIHdpbmRvdy5zdHVkZW50RGF0YVxyXG4gICAgICAgIC5maWx0ZXIoc3R1ZGVudCA9PiBlbnJvbGxlZFN0dWRlbnRzLmluY2x1ZGVzKHN0dWRlbnQuc3R1ZGVudElEKSlcclxuICAgICAgICAuZm9yRWFjaChzdHVkZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IHN0dWRlbnQuc3R1ZGVudElEO1xyXG4gICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBgJHtzdHVkZW50LnN0dWRlbnRJRH0gLSAke3N0dWRlbnQubmFtZX1gO1xyXG4gICAgICAgICAgICBzdHVkZW50RHJvcGRvd24uYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICAgICAgICB9KTtcclxufVxyXG5cclxuLy8gRGlzcGxheSBzdHVkZW50IGluZm9ybWF0aW9uIGJhc2VkIG9uIHNlbGVjdGVkIHN0dWRlbnRJRFxyXG5mdW5jdGlvbiBkaXNwbGF5U3R1ZGVudEluZm8oKSB7XHJcbiAgICBjb25zdCBzdHVkZW50SUQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3R1ZGVudElEJykudmFsdWU7XHJcbiAgICBjb25zdCBzdHVkZW50SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHVkZW50SW5mbycpO1xyXG4gICAgc3R1ZGVudEluZm8uaW5uZXJIVE1MID0gJyc7IC8vIFJlc2V0IGluZm9cclxuXHJcbiAgICBjb25zdCBzdHVkZW50ID0gd2luZG93LnN0dWRlbnREYXRhLmZpbmQoc3R1ID0+IHN0dS5zdHVkZW50SUQgPT0gc3R1ZGVudElEKTtcclxuICAgIGlmIChzdHVkZW50KSB7XHJcbiAgICAgICAgc3R1ZGVudEluZm8uaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8cD5OYW1lOiAke3N0dWRlbnQubmFtZX08L3A+XHJcbiAgICAgICAgICAgIDxwPlN0dWRlbnQgSUQ6ICR7c3R1ZGVudC5zdHVkZW50SUR9PC9wPlxyXG4gICAgICAgICAgICA8IS0tIEFkZCBtb3JlIGRldGFpbHMgaWYgYXZhaWxhYmxlIGluIHRoZSBkYXRhIC0tPlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHN1Ym1pdExlYXZlQXBwbGljYXRpb24oKSB7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRm9ybScpO1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSB7XHJcbiAgICAgICAgY2xhc3NJRDogZm9ybS5jbGFzc0lELnZhbHVlLFxyXG4gICAgICAgIHN0dWRlbnRJRDogZm9ybS5zdHVkZW50SUQudmFsdWUsXHJcbiAgICAgICAgbGVhdmVEYXRlOiBmb3JtLmxlYXZlRGF0ZS52YWx1ZSxcclxuICAgICAgICByZWFzb246IGZvcm0ucmVhc29uLnZhbHVlXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9sZWF2ZS9hcHBseS1sZWF2ZScsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSlcclxuICAgIH0pO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgYWxlcnQocmVzdWx0Lm1lc3NhZ2UpO1xyXG4gICAgZmV0Y2hMZWF2ZUFwcGxpY2F0aW9ucygpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaExlYXZlQXBwbGljYXRpb25zKCkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2xlYXZlL2dldC1sZWF2ZS1hcHBsaWNhdGlvbnMnKTtcclxuICAgIGNvbnN0IGFwcGxpY2F0aW9ucyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUFwcGxpY2F0aW9ucycpO1xyXG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgIGFwcGxpY2F0aW9ucy5mb3JFYWNoKGFwcCA9PiB7XHJcbiAgICAgICAgY29uc3QgYXBwRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgYXBwRGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPHA+QXBwbGljYXRpb24gSUQ6ICR7YXBwLmFwcGxpY2F0aW9uSUR9PC9wPlxyXG4gICAgICAgICAgICA8cD5TdHVkZW50IElEOiAke2FwcC5zdHVkZW50SUR9PC9wPlxyXG4gICAgICAgICAgICA8cD5DbGFzcyBJRDogJHthcHAuY2xhc3NJRH08L3A+XHJcbiAgICAgICAgICAgIDxwPkxlYXZlIERhdGU6ICR7YXBwLmxlYXZlRGF0ZX08L3A+XHJcbiAgICAgICAgICAgIDxwPlJlYXNvbjogJHthcHAucmVhc29ufTwvcD5cclxuICAgICAgICAgICAgPHA+U3RhdHVzOiAke2FwcC5zdGF0dXN9PC9wPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9XCJ1cGRhdGVBcHBsaWNhdGlvblN0YXR1cygke2FwcC5hcHBsaWNhdGlvbklEfSwgJ0FwcHJvdmVkJylcIj5BcHByb3ZlPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gb25jbGljaz1cInVwZGF0ZUFwcGxpY2F0aW9uU3RhdHVzKCR7YXBwLmFwcGxpY2F0aW9uSUR9LCAnRGlzYXBwcm92ZWQnKVwiPkRpc2FwcHJvdmU8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrID0gXCJ1cGRhdGVBcHBsaWNhdGlvblN0YXR1cygke2FwcC5hcHBsaWNhdGlvbklEfSwgJ1BlbmRpbmcnKVwiID4gUGVuZGluZzwvYnV0dG9uPmBcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYXBwRGl2KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVBcHBsaWNhdGlvblN0YXR1cyhhcHBsaWNhdGlvbklELCBzdGF0dXMpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9sZWF2ZS91cGRhdGUtYXBwbGljYXRpb24tc3RhdHVzJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXBwbGljYXRpb25JRCwgc3RhdHVzIH0pXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGFsZXJ0KHJlc3VsdC5tZXNzYWdlKTtcclxuICAgIGZldGNoTGVhdmVBcHBsaWNhdGlvbnMoKTtcclxufVxyXG5cclxuLy8gRmV0Y2ggdGhlIGFwcGxpY2F0aW9ucyB3aGVuIHRoZSBwYWdlIGxvYWRzXHJcbmZldGNoTGVhdmVBcHBsaWNhdGlvbnMoKTtcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIHBvcHVsYXRlQ2xhc3NEcm9wZG93bigpO1xyXG59KTsiXSwibWFwcGluZ3MiOiI0cU1BZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlo7QUFDQSxjQUFlLENBQUFFLHFCQUFxQkEsQ0FBQSxDQUFHLENBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUNuQyxLQUFNLENBQUFDLFFBQVEsRUFBQUosY0FBQSxHQUFBSyxDQUFBLE1BQUcsS0FBTSxDQUFBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsRUFBRTtBQUNqRCxLQUFNLENBQUFDLElBQUksRUFBQVAsY0FBQSxHQUFBSyxDQUFBLE1BQUcsS0FBTSxDQUFBRCxRQUFRLENBQUNJLElBQUksQ0FBQyxDQUFDLEVBRWxDLEtBQU0sQ0FBQUMsYUFBYSxFQUFBVCxjQUFBLEdBQUFLLENBQUEsTUFBR0ssUUFBUSxDQUFDQyxjQUFjLENBQUMsU0FBUyxDQUFDLEVBQUNYLGNBQUEsR0FBQUssQ0FBQSxNQUN6REksYUFBYSxDQUFDRyxTQUFTLENBQUcsMENBQTBDLENBQUU7QUFFdEU7QUFBQVosY0FBQSxHQUFBSyxDQUFBLE1BQ0FFLElBQUksQ0FBQ00sT0FBTyxDQUFDQyxPQUFPLENBQUNDLEdBQUcsRUFBSSxDQUFBZixjQUFBLEdBQUFHLENB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